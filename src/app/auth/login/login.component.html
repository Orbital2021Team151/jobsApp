<div class="card-container">
  <mat-card class="login-card">
    <span class="logo">
      <img src="assets/Orbital-Logo-Design.png" alt="Logo of CCSGP" />
    </span>
    <mat-spinner *ngIf="isLoading"></mat-spinner>
    <form *ngIf="!isLoading" #loginForm="ngForm">
      <mat-form-field appearance="outline">
        <mat-label>Email Address</mat-label>
        <input
          matInput
          type="email"
          name="email"
          ngModel
          required
          #emailInput="ngModel"
          placeholder="Please enter your Email Address here"
          email
        />
        <mat-error *ngIf="emailInput.invalid"
          >Please enter a valid email address.</mat-error
        >
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Password</mat-label>
        <input
          matInput
          [type]="showPassword ? 'text' :  'password'"
          name="password"
          ngModel
          required
          #passwordInput="ngModel"
          placeholder="Enter Password Here"
        />
        <mat-error *ngIf="passwordInput.invalid"
          >Please enter a valid password.</mat-error
        >
      </mat-form-field>

      <div class="show-password-checkbox-container">
        <mat-checkbox class="show-password-checkbox" [(ngModel)]="showPassword" name="showPassword">Show Password</mat-checkbox>
      </div>


      <div class="form-footer">
        <a href="javascript:;" (click)="onOpenForgetPassword(forgetPasswordContent)" class="forget-password-link">Forget Password</a>
        <button mat-raised-button color="accent" (click)="onLogin(loginForm)">
          Login
        </button>
      </div>
    </form>
  </mat-card>
</div>









<ng-template #forgetPasswordContent let-modal class="forgetPasswordPopup">
  <div
    class="modal-header"
  >
    <h4 class="modal-title">
      Don't worry. Happens to the best of us ;)
    </h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
      style="color: transparent"
    >
    </button>
  </div>
  <div
    class="modal-body"
  >
    <form #forgetPasswordForm="ngForm">
      <mat-form-field appearance="outline">
        <input
          matInput
          type="text"
          ngModel
          name="forgetPasswordEmail"
          required
          #forgetPasswordEmail="ngModel"
          placeholder="Email"
        />
      </mat-form-field>

      <!--
      <mat-form-field appearance="outline">
        <mat-label>User Role</mat-label>
        <mat-select
          ngModel
          required
          #forgetPasswordRole="ngModel"
          name="forgetPasswordRole"
        >
          <mat-option>--</mat-option
          >
          <mat-option *ngFor="let role of roles" [value]="role">{{ role }}</mat-option>
        </mat-select>
        <mat-error *ngIf="forgetPasswordRole.invalid"
          >Please select the user's role.</mat-error
        >
      </mat-form-field>
      -->
    </form>
  </div>

  <div
    class="modal-footer"
  >
    <div
      *ngIf="newPasswordSent"
      class="alert alert-success alert-dismissible fade show"
      role="alert"
    >
      <strong>Password changed!</strong> Please check your email for the new
      password.
      <button
        (click)="closeNotification()"
        type="button"
        class="close"
        data-dismiss="alert"
        aria-label="Close"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <button
      mat-stroked-button
      type="button"
      color="primary"
      class="forget-password-submit-button"
      (click)="
        onForgetPassword(forgetPasswordForm) && modal.dismiss('Cross click')
      "
    >
      Send new password
    </button>
  </div>
</ng-template>
