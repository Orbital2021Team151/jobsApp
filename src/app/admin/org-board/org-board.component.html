
<div class="changePasswordBar">
  <mat-card [style]="{'background-color': '#203647'}">
    <form #changePasswordForm="ngForm">
      <mat-form-field appearance="outline">
        <input
          matInput
          type="password"
          ngModel
          name="currentPassword"
          required
          #currentPassword="ngModel"
          placeholder="Current Password"
        />
        <mat-error *ngIf="currentPassword.invalid"
          >Please enter your current password.</mat-error
        >
      </mat-form-field>

      <mat-form-field appearance="outline">
        <input
          matInput
          type="password"
          ngModel
          name="newPassword"
          required
          #newPassword="ngModel"
          placeholder="New Password"
        />
        <mat-error *ngIf="newPassword.invalid"
          >Please provide us with your new password.</mat-error
        >
      </mat-form-field>

      <button
        class="btn btn-outline-primary mb-2 mr-2"
        (click)="onChangePassword(changePasswordForm)"
      >
        Request
      </button>
    </form>
  </mat-card>
</div>




<div>
  <p class="info-text mat-body-1" *ngIf="hasRequest" [style]="{'color': 'white'}"><b>Posts that has not been approved by CCSGP Admins yet</b></p>

  <div fxLayout="row wrap" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="5.0%" fxLayoutAlign="center">
    <div class="centered" *ngFor="let post of posts">

      <section class="cards" *ngIf="!post.approved">
        <p-card
          class="card"
          [style]="{
            width: '25rem',
            height: '15rem',
            'text-align': 'center',
            'background-color': '#2e2b12',
            color: 'white'
          }"
          styleClass="p-card-shadow"
          *ngIf="!post.approved"
        >

        <p-card-header [style]="{
          'text-overflow': 'ellipsis',
          'width': '22rem',
          'max-width': '22rem',
          'height':'1.7rem',
          'display': 'block',
          'overflow':'hidden',
          'white-space':'nowrap',
          'color' : 'white',
          'font-size' : '1.5rem'
        }">

        <b>{{ post.title }}</b>

        </p-card-header>

        <p-card-subheader [style]="{
          'height': '3.5rem',
          'display': 'block',
          'overflow':'hidden',
          'white-space':'nowrap',
          'color': '#D9D9D9'
        }">
          {{ post.startDate | date }} to {{ post.endDate | date }}
        </p-card-subheader>

        <p-card-content
        [style]="{
          'text-overflow': 'ellipsis',
          'width': '22rem',
          'max-width': '22rem',
          'height' : '3rem',
          'display': 'block',
          'overflow':'hidden',
          'white-space':'nowrap',
          'color': '#D9D9D9'
        }">{{ post.content }}
        </p-card-content>

          <ng-template pTemplate="footer" #footer>

            <button class="btn btn-outline-primary mb-2 mr-2" (click)="onMoreInfo(content)">Learn More</button>

            <p-button
              class="deleteButton"
              label="Delete"
              icon="pi pi-times"
              styleClass="p-button-secondary"
              (click)="onDelete(post.id)"
            ></p-button>

          </ng-template>
        </p-card>
      </section>





      <ng-template #content let-modal>
        <div class="modal-header">
          <h4 class="modal-title">{{post.title}}</h4>
          <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Organization Name: {{post.orgName}}&hellip;</p>
          <p>UEN: {{post.uen}}&hellip;</p>
          <p>Student Group Name: {{post.studentGroupName}}&hellip;</p>
          <p>Point of Contact (POC): {{post.POC}}&hellip;</p>
          <p>POC's phoneNumber: {{post.phoneNumber}}&hellip;</p>
          <p>POC's email: {{post.email}}&hellip;</p>
          <p>Brief Description for gig: {{post.content}}&hellip;</p>
          <p>Preferred Skills: {{post.skills}}&hellip;</p>
          <p>Start Date: {{post.startDate | date}}&hellip;</p>
          <p>End Date: {{post.endDate | date}}&hellip;</p>
          <p>Commitment Hours: {{post.hoursRequired}}&hellip;</p>
          <p>Beneficiaries: &hellip;</p>
          <div *ngFor="let beneficiary of post.beneficiaries">
            <p> => {{beneficiary}}</p>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Close</button>
        </div>
      </ng-template>



    </div>
  </div>

  <p class="info-text mat-body-1" *ngIf="!hasRequest" [style]="{'color': 'white'}">No post request!</p>
</div>
