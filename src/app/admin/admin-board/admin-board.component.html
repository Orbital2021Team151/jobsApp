<!-- navbar stuff -->
<div class="page-container">
  <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-pills" orientation="vertical">
    <li ngbNavItem="changePassword" class="nav-item">
      <a ngbNavLink>Change Password</a>
      <ng-template ngbNavContent> </ng-template>
    </li>

    <li ngbNavItem="downloadCSV" class="nav-item">
      <a ngbNavLink>Download CSV</a>
      <ng-template ngbNavContent> </ng-template>
    </li>

    <li ngbNavItem="postsPendingApproval" class="nav-item">
      <a ngbNavLink>Posts that are pending your approval</a>
      <ng-template ngbNavContent>
        <!--
        <div class="info-text">
          <p>
            <b>Posts that needs to be approved!</b>
          </p>
        </div>
        -->
      </ng-template>
    </li>

    <li ngbNavItem="postsWithReports" class="nav-item">
      <a ngbNavLink>Posts with reports</a>
      <ng-template ngbNavContent> </ng-template>
    </li>
  </ul>

  <div [ngbNavOutlet]="nav" class="ml-4"></div>
</div>












<div class="change-password-card" *ngIf="active === 'changePassword'">
  <mat-card class="change-password-body">

    <mat-card-title class="change-password-title">Change Password</mat-card-title>

    <form #changePasswordForm="ngForm">
      <mat-form-field appearance="outline" class="change-password-form-field">
        <input matInput class="form-input" [type]="hideCurrentPassword ? 'password' : 'text'" ngModel
          name="currentPassword" required #currentPassword="ngModel" placeholder="Current Password" />

        <button mat-icon-button matSuffix (click)="hideCurrentPassword = !hideCurrentPassword"
          [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideCurrentPassword">
          <mat-icon class="password-visibility-icon-button">{{
            hideCurrentPassword ? "visibility_off" : "visibility"
            }}</mat-icon>
        </button>

        <mat-error *ngIf="currentPassword.invalid">Please enter your current password.</mat-error>
      </mat-form-field>

      <br />

      <mat-form-field appearance="outline" class="change-password-form-field">
        <input matInput class="form-input" [type]="hideNewPassword ? 'password' : 'text'" ngModel name="newPassword"
          required #newPassword="ngModel" placeholder="New Password" />

        <button mat-icon-button matSuffix (click)="hideNewPassword = !hideNewPassword"
          [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideNewPassword">
          <mat-icon class="password-visibility-icon-button">{{
            hideNewPassword ? "visibility_off" : "visibility"
            }}</mat-icon>
        </button>

        <mat-error *ngIf="newPassword.invalid">Please provide us with your new password.</mat-error>
      </mat-form-field>

      <mat-card-footer class="change-password-footer">
        <button mat-raised-button color="primary" class="change-password-form-button"
          (click)="onChangePassword(changePasswordForm)">
          Change Password
        </button>
      </mat-card-footer>
    </form>

    <!--
    <ng-container>
      <form #changePasswordForm="ngForm">
        <mat-form-field appearance="outline" class="change-password-form-field">
          <input
            matInput
            class="change-password-form-input"
            [type]="hideCurrentPassword ? 'password' : 'text'"
            ngModel
            name="currentPassword"
            required
            #currentPassword="ngModel"
            placeholder="Current Password"
          />

          <button
            mat-icon-button
            matSuffix
            (click)="hideCurrentPassword = !hideCurrentPassword"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hideCurrentPassword"
          >
            <mat-icon>{{
              hideCurrentPassword ? "visibility_off" : "visibility"
            }}</mat-icon>
          </button>

          <mat-error *ngIf="currentPassword.invalid"
            >Please enter your current password.</mat-error
          >
        </mat-form-field>

        <br />

        <mat-form-field appearance="outline" class="change-password-form-field">
          <input
            matInput
            class="change-password-form-input"
            [type]="hideNewPassword ? 'password' : 'text'"
            ngModel
            name="newPassword"
            required
            #newPassword="ngModel"
            placeholder="New Password"
          />

          <button
            mat-icon-button
            matSuffix
            (click)="hideNewPassword = !hideNewPassword"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hideNewPassword"
          >
            <mat-icon>{{
              hideNewPassword ? "visibility_off" : "visibility"
            }}</mat-icon>
          </button>

          <mat-error *ngIf="newPassword.invalid"
            >Please provide us with your new password.</mat-error
          >
        </mat-form-field>

        <mat-card-footer class="change-password-footer">
          <button
            mat-stroked-button
            color="primary"
            class="change-password-form-button"
            (click)="onChangePassword(changePasswordForm)"
          >
            Change Password
          </button>
        </mat-card-footer>
      </form>
    </ng-container>
    -->
    <div *ngIf="requestedNewPassword" class="alert alert-success alert-dismissible fade show" role="alert">
      <strong>Password changed!</strong>
      <button (click)="closeNotification()" type="button" class="btn-close" data-dismiss="alert" aria-label="Close">
      </button>
    </div>

  </mat-card>
</div>



<div class="change-password-card" *ngIf="active === 'downloadCSV'">
  <mat-card class="mat-elevation-z0 change-password-body">
    <mat-card-title class="download-csv-title">
      CSV File download
    </mat-card-title>

    <form #csvDateFilterForm="ngForm">
      <mat-form-field appearance="outline">
        <mat-label>Choose a start date</mat-label>
        <input matInput class="form-input" [matDatepicker]="startDatePicker" placeholder="MM/DD/YYYY" ngModel
          #startDate="ngModel" name="startDate" />
        <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
        <mat-datepicker #startDatePicker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Choose an end date</mat-label>
        <input matInput class="form-input" [matDatepicker]="endDatePicker" ngModel #endDate="ngModel" name="endDate"
          placeholder="MM/DD/YYYY" />
        <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
        <mat-datepicker #endDatePicker></mat-datepicker>
      </mat-form-field>
    </form>

    <mat-card-footer class="download-csv-footer">
      <button mat-raised-button color="primary" (click)="onDownloadCSV(csvDateFilterForm)">
        Download CSV
      </button>
    </mat-card-footer>
  </mat-card>
</div>

<div class="request-posts-div" *ngIf="active === 'postsPendingApproval'">
  <div class="centered" *ngFor="let post of posts">
    <section class="cards" *ngIf="!post.approved">
      <mat-card class="request-post-card">
        <img *ngIf="!post.imagePath" mat-card-image class="card-image"
          src="../../../assets/light-background-placeholder.png" alt="Placeholder image for post" />

        <img *ngIf="post.imagePath" mat-card-image class="card-image" [src]="post.imagePath" alt="Post's image" />

        <mat-card-title class="post-card-title">{{ post.title }}</mat-card-title>
        <mat-card-subtitle class="post-card-subtitle">
          by <b>{{ post.orgName }}</b>
        </mat-card-subtitle>
        <mat-card-content class="post-card-content">
          <mat-icon>event</mat-icon> {{ post.startDate | date }} to
          {{ post.endDate | date }} <br />
          <mat-icon>schedule</mat-icon> {{ post.hoursRequired }} <br />
          <mat-icon> location_on</mat-icon>
          {{ post.location || "No Specific Location" }} <br />
          <mat-icon>people_outline</mat-icon> Skillsets:
          {{ post.skills }}
          <br />
        </mat-card-content>

        <mat-card-footer class="post-card-footer">
          <button matTooltip="Click to publish request" [matTooltipShowDelay]="100" [matTooltipHideDelay]="100"
            mat-icon-button aria-label="Publish" (click)="onPublish(post.id, publishContent)">
            <mat-icon class="publish-button">publish</mat-icon>
          </button>


          <button matTooltip="Click to delete request" [matTooltipShowDelay]="100" [matTooltipHideDelay]="100"
            mat-icon-button color="warn" aria-label="Delete Forever" (click)="onDeletePrompt(deleteUnapprovedContent)">
            <mat-icon>delete_forever</mat-icon>
          </button>

          <button matTooltip="Click to reject request" [matTooltipShowDelay]="100" [matTooltipHideDelay]="100"
            mat-icon-button color="warn" aria-label="Reject" (click)="onRejectPrompt(rejectUnapprovedContent)">
            <mat-icon color="warn">block</mat-icon>
          </button>

          <button matTooltip="Click for more information" [matTooltipShowDelay]="100" [matTooltipHideDelay]="100"
            mat-icon-button color="primary" aria-label="Learn More" (click)="onMoreInfo(content)">
            <mat-icon color="primary">
              help_outline
            </mat-icon>

          </button>
        </mat-card-footer>
      </mat-card>
    </section>

    <ng-template #content let-modal>

      <!--
      <div class="modal-header">
        <h4 class="modal-title">{{ post.title }}</h4>
        <button
          type="button"
          class="close"
          aria-label="Close"
          (click)="modal.dismiss('Cross click')"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <p>Organization Name: {{ post.orgName }}</p>
        <p>UEN: {{ post.uen }}</p>
        <p>Point of Contact (POC): {{ post.POC }}</p>
        <p>POC's phoneNumber: {{ post.phoneNumber }}</p>
        <p>POC's email: {{ post.email }}</p>
        <p>Brief Description for gig: {{ post.content }}</p>
        <p>
          Frequency/Type of volunteer opportunity:
          {{ post.opportunity }}
        </p>
        <p>Preferred Skills: {{ post.skills }}</p>
        <p>Start Date: {{ post.startDate | date }}</p>
        <p>End Date: {{ post.endDate | date }}</p>
        <p>Commitment Hours: {{ post.hoursRequired }}</p>
        <p>Beneficiaries: {{ post.beneficiaries }}</p>
      </div>

      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-light"
          (click)="modal.close('Close click')"
        >
          Close
        </button>
      </div>
      -->

      <div class="bg-white shadow overflow-hidden sm:rounded-lg">

        <div class="px-4 py-3 sm:px-6">
          <h3 class="text-lg leading-6 font-medium text-gray-900">
            {{ post.title }}
          </h3>

          <p class="mt-1 max-w-2xl text-sm text-gray-500">
            by <i>{{ post.orgName }}</i>
          </p>

        </div>

        <div class="border-t border-gray-200">
          <dl>

            <div class="bg-gray-50 px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
              <dt class="text-sm font-medium text-gray-500">
                About
              </dt>
              <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                {{ post.content }}
              </dd>
            </div>

            <div class="bg-white px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
              <dt class="text-sm font-medium text-gray-500">
                Point-Of-Contact's Name
              </dt>
              <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                {{ post.POC }}
              </dd>
            </div>

            <div class="bg-gray-50 px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
              <dt class="text-sm font-medium text-gray-500">
                Email Address
              </dt>
              <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                {{ post.email }}
              </dd>
            </div>

            <div class="bg-white px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
              <dt class="text-sm font-medium text-gray-500">
                Preferred Skillset
              </dt>
              <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                {{ post.skills }}
              </dd>
            </div>

            <div class="bg-gray-50 px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
              <dt class="text-sm font-medium text-gray-500">
                Beneficiaries
              </dt>
              <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                {{ post.beneficiaries }}
              </dd>
            </div>

            <div class="bg-white px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
              <dt class="text-sm font-medium text-gray-500">
                Duration
              </dt>
              <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                {{ post.startDate | date }} to {{ post.endDate | date }}
              </dd>
            </div>

            <div class="bg-gray-50 px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
              <dt class="text-sm font-medium text-gray-500">
                Commitment Information
              </dt>
              <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                {{ post.hoursRequired }}
              </dd>
            </div>

            <div class="bg-white px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
              <dt class="text-sm font-medium text-gray-500">
                Location
              </dt>
              <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                {{ post.location || "Not Specified" }}
              </dd>
            </div>

          </dl>
        </div>
      </div>

    </ng-template>

    <ng-template #deleteUnapprovedContent let-modal>
      <div class="modal-header">
        <h4 class="modal-title">Delete Confirmation</h4>
        <button type="button" class="submit" aria-label="apply" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <p>Are you sure you want to delete the post?</p>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="onDelete(post.id) && modal.dismiss('Cross click')">
          Confirm Delete
        </button>

        <button type="button" class="btn btn-light" (click)="modal.dismiss('Cross click')">
          Cancel
        </button>
      </div>
    </ng-template>

    <ng-template #rejectUnapprovedContent let-modal>
      <div class="modal-header">
        <h4 class="modal-title">Reject Confirmation</h4>
        <button type="button" class="submit" aria-label="apply" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <p>Are you sure you want to reject the post?</p>

        <form [formGroup]="rejectForm">
          <mat-form-field appearance="outline">
            <mat-label>Reason for rejecting post <i>(Optional)</i></mat-label>
            <textarea matInput type="text" [formControl]="rejectReasonControl" rows="10"
              placeholder="Please record down the reason for rejecting this approved post."></textarea>
          </mat-form-field>
        </form>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="onReject(post.id) && modal.dismiss('Cross click')">
          Confirm Reject
        </button>

        <button type="button" class="btn btn-light" (click)="modal.dismiss('Cross click')">
          Cancel
        </button>
      </div>
    </ng-template>
  </div>

  <div class="info-text" *ngIf="hasRequest === false && active === 'postsPendingApproval'">
    <h1 class="info-text-header">No Post Request</h1>
    <p>
      If an organisation sends a request, it will be shown here for your approval!
    </p>
  </div>

  <mat-spinner *ngIf="hasRequest === null" class="spinner"></mat-spinner>

</div>


<div class="report-posts-div" *ngIf="active === 'postsWithReports'">
  <div class="centered" *ngFor="let post of posts">
    <section class="cards" *ngIf="post.reports.length > 0">
      <mat-card class="report-post-card">
        <img *ngIf="!post.imagePath" mat-card-image class="card-image"
          src="../../../assets/dark-background-placeholder.png" alt="Placeholder image for post" />

        <img *ngIf="post.imagePath" mat-card-image class="card-image" [src]="post.imagePath" alt="Post's Image" />

        <mat-card-title class="post-card-title">{{ post.title }}</mat-card-title>
        <mat-card-subtitle class="post-card-subtitle">
          by <b>{{ post.orgName }}</b>
        </mat-card-subtitle>
        <mat-card-content class="post-card-content">
          <mat-icon>event</mat-icon> {{ post.startDate | date }} to
          {{ post.endDate | date }} <br />
          <mat-icon>schedule</mat-icon> {{ post.hoursRequired }} <br />
          <mat-icon> location_on</mat-icon>
          {{ post.location || "No Specific Location" }} <br />
          <mat-icon>people_outline</mat-icon> Skillsets: {{ post.skills }}
          <br />
        </mat-card-content>
        <mat-footer class="post-card-footer">

          <button matTooltip="Click to read reports" [matTooltipShowDelay]="100" [matTooltipHideDelay]="100"
            mat-icon-button color="accent" aria-label="Read Report" (click)="onMoreInfo(reportContent)">
            <mat-icon color="accent">error_outline</mat-icon>
          </button>

          <!--
            <button
              mat-raised-button
              color="warn"
              (click)="onDeletePrompt(deleteReportedContent)"
            >
              Delete
            </button>
            -->

          <button matTooltip="Click to reject request" [matTooltipShowDelay]="100" [matTooltipHideDelay]="100"
            mat-icon-button color="warn" aria-label="Reject" (click)="onRejectPrompt(rejectReportedContent)">
            <mat-icon color="warn">block</mat-icon>
          </button>

          <button matTooltip="Click for more information" [matTooltipShowDelay]="100" [matTooltipHideDelay]="100"
            mat-icon-button color="primary" aria-label="Learn More" (click)="onMoreInfo(content)">
            <mat-icon color="primary">help_outline</mat-icon>
          </button>

        </mat-footer>
      </mat-card>
    </section>

    <ng-template #reportContent let-modal>
      <div class="modal-header">
        <h4 class="modal-title">{{ post.title }}</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div *ngFor="let report of post.reports" class="modal-body-report">
          <div>
            <p>Student's Email: {{ report.email }}</p>
            <p>Student's Contact: {{ report.contact }}</p>
            <p>Student's Report: {{ report.content }}</p>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="modal.close('Close click')">
          Close
        </button>
      </div>
    </ng-template>

    <ng-template #content let-modal>

      <!--
      <div class="modal-header">
        <h4 class="modal-title">{{ post.title }}</h4>
        <button
          type="button"
          class="close"
          aria-label="Close"
          (click)="modal.dismiss('Cross click')"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <p>Organization Name: {{ post.orgName }}</p>
        <p>UEN: {{ post.uen }}</p>
        <p>Point of Contact (POC): {{ post.POC }}</p>
        <p>POC's phoneNumber: {{ post.phoneNumber }}</p>
        <p>POC's email: {{ post.email }}</p>
        <p>Brief Description for gig: {{ post.content }}</p>
        <p>Preferred Skills: {{ post.skills }}</p>
        <p>Start Date: {{ post.startDate | date }}</p>
        <p>End Date: {{ post.endDate | date }}</p>
        <p>Commitment Hours: {{ post.hoursRequired }}</p>
        <p>Beneficiaries: {{ post.beneficiaries }}</p>
      </div>

      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-light"
          (click)="modal.close('Close click')"
        >
          Close
        </button>
      </div>
      -->




      <div class="bg-white shadow overflow-hidden sm:rounded-lg">

        <div class="px-4 py-3 sm:px-6">
          <h3 class="text-lg leading-6 font-medium text-gray-900">
            {{ post.title }}
          </h3>

          <p class="mt-1 max-w-2xl text-sm text-gray-500">
            by <i>{{ post.orgName }}</i>
          </p>

        </div>

        <div class="border-t border-gray-200">
          <dl>

            <div class="bg-gray-50 px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
              <dt class="text-sm font-medium text-gray-500">
                About
              </dt>
              <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                {{ post.content }}
              </dd>
            </div>

            <div class="bg-white px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
              <dt class="text-sm font-medium text-gray-500">
                Point-Of-Contact's Name
              </dt>
              <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                {{ post.POC }}
              </dd>
            </div>

            <div class="bg-gray-50 px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
              <dt class="text-sm font-medium text-gray-500">
                Email Address
              </dt>
              <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                {{ post.email }}
              </dd>
            </div>

            <div class="bg-white px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
              <dt class="text-sm font-medium text-gray-500">
                Preferred Skillset
              </dt>
              <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                {{ post.skills }}
              </dd>
            </div>

            <div class="bg-gray-50 px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
              <dt class="text-sm font-medium text-gray-500">
                Beneficiaries
              </dt>
              <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                {{ post.beneficiaries }}
              </dd>
            </div>

            <div class="bg-white px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
              <dt class="text-sm font-medium text-gray-500">
                Duration
              </dt>
              <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                {{ post.startDate | date }} to {{ post.endDate | date }}
              </dd>
            </div>

            <div class="bg-gray-50 px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
              <dt class="text-sm font-medium text-gray-500">
                Commitment Information
              </dt>
              <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                {{ post.hoursRequired }}
              </dd>
            </div>

            <div class="bg-white px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
              <dt class="text-sm font-medium text-gray-500">
                Location
              </dt>
              <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                {{ post.location }}
              </dd>
            </div>

          </dl>
        </div>
      </div>





    </ng-template>

    <!-- Should not be able to delete apporved content
      <ng-template #deleteReportedContent let-modal>
        <div class="modal-header">
          <h4 class="modal-title">Delete Confirmation</h4>
          <button
            type="button"
            class="submit"
            aria-label="apply"
            (click)="modal.dismiss('Cross click')"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body">
          <p>Are you sure you want to delete the post?</p>
        </div>

        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-light"
            (click)="
              onDeleteReportedPost(post.id) && modal.dismiss('Cross click')
            "
          >
            Confirm Delete
          </button>

          <button
            type="button"
            class="btn btn-light"
            (click)="modal.dismiss('Cross click')"
          >
            Cancel
          </button>
        </div>
      </ng-template>
      -->

    <ng-template #rejectReportedContent let-modal>
      <div class="modal-header">
        <h4 class="modal-title">Reject Confirmation</h4>
        <button type="button" class="submit" aria-label="apply" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <p>Are you sure you want to reject the post?</p>

        <form [formGroup]="rejectForm">
          <mat-form-field appearance="outline">
            <mat-label>Reason for rejecting post <i>(Optional)</i></mat-label>
            <textarea matInput type="text" [formControl]="rejectReasonControl" rows="10"
              placeholder="Please record down the reason for rejecting this approved post."></textarea>
          </mat-form-field>
        </form>

      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="
            onRejectReportedPost(post.id) && modal.dismiss('Cross click')
          ">
          Confirm Reject
        </button>

        <button type="button" class="btn btn-light" (click)="modal.dismiss('Cross click')">
          Cancel
        </button>
      </div>
    </ng-template>
  </div>

  <div class="info-text" *ngIf="hasReport === false && active === 'postsWithReports'">
    <h1 class="info-text-header">No Post With Reports</h1>
    <p>
      Don't worry. If a Student / NUS Alumni reports a post, we inform you ASAP via email and you can see it here!
    </p>
  </div>

  <mat-spinner *ngIf="hasReport === null"></mat-spinner>
</div>

<!--
<footer class="container">
  <p class="copyright">
    &copy; Orbital 2021 Team StudyGoWhere, ID 2601, Darren Hoon and Wilbur Fong.
    <br />
    In conjuction with the Centre for Computing for Social Good and Philanthropy
    (CCSGP), NUS.
  </p>
</footer>
-->

<ng-template #publishContent let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Publish Success</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>Post Published Successfully!</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light" (click)="modal.close('Close click')">
      Back
    </button>
  </div>
</ng-template>

<ng-template #studentsReport let-modal>
  <div class="modal-header">
    <h4 class="modal-title">{{ post.title }}</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div *ngFor="let report of post.reports">
      <p>Email: {{ report.email }}</p>
      <p>Contact Number: {{ report.contact }}</p>
      <p>Reason for Reporting: {{ report.content }}</p>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light" (click)="modal.close('Close click')">
      Close
    </button>
  </div>
</ng-template>
